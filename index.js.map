{"version":3,"file":"index.js","sources":["../src/js/index.js"],"sourcesContent":["import '../css/style.css';\n// https://media.licdn.com/dms/image/C5112AQEr5Pvwftcnpw/article-cover_image-shrink_600_2000/0/1538241940135?e=1687392000&v=beta&t=nBUq1TFjTuJmww0wqfhnd8A8SI_Vnq4S0F-xk2GI3YM\n// https://uk.wikipedia.org/wiki/SOAP\n// https://swapi.dev/\n\n// Перерва до  21.00\nconst search = document.querySelector('.js-search');\nconst list = document.querySelector('.js-list');\nsearch.addEventListener('submit', onSearch);\n\nfunction onSearch(evt) {\n  evt.preventDefault();\n\n  const { query, days } = evt.currentTarget.elements;\n  getWeather(query.value, days.value)\n    .then(data => (list.innerHTML = createMarkup(data.forecast.forecastday)))\n    .catch(err => console.log(err));\n}\n\nfunction getWeather(city, days) {\n  const BASE_URL = 'http://api.weatherapi.com/v1';\n  const API_KEY = 'ce2cb9b2a3da414bb5b172546231704';\n  const params = new URLSearchParams({\n    key: API_KEY,\n    q: city,\n    days: days,\n    lang: 'uk',\n  });\n\n  return fetch(`${BASE_URL}/forecast.json?${params}`).then(resp => {\n    if (!resp.ok) {\n      throw new Error(resp.statusText);\n    }\n\n    return resp.json();\n  });\n}\n\nfunction createMarkup(arr) {\n  return arr\n    .map(\n      ({\n        date,\n        day: {\n          avgtemp_c,\n          condition: { text, icon },\n        },\n      }) => `<li>\n    <img src=\"${icon}\" alt=\"${text}\">\n    <p>${text}</p>\n    <h2>${date}</h2>\n    <h3>${avgtemp_c}</h3>\n</li>`\n    )\n    .join('');\n}\n"],"names":["search","list","onSearch","evt","query","days","getWeather","data","createMarkup","err","city","BASE_URL","API_KEY","params","resp","arr","date","avgtemp_c","text","icon"],"mappings":"ssBAMA,MAAMA,EAAS,SAAS,cAAc,YAAY,EAC5CC,EAAO,SAAS,cAAc,UAAU,EAC9CD,EAAO,iBAAiB,SAAUE,CAAQ,EAE1C,SAASA,EAASC,EAAK,CACrBA,EAAI,eAAgB,EAEpB,KAAM,CAAE,MAAAC,EAAO,KAAAC,CAAM,EAAGF,EAAI,cAAc,SAC1CG,EAAWF,EAAM,MAAOC,EAAK,KAAK,EAC/B,KAAKE,GAASN,EAAK,UAAYO,EAAaD,EAAK,SAAS,WAAW,CAAE,EACvE,MAAME,GAAO,QAAQ,IAAIA,CAAG,CAAC,CAClC,CAEA,SAASH,EAAWI,EAAML,EAAM,CAC9B,MAAMM,EAAW,+BACXC,EAAU,kCACVC,EAAS,IAAI,gBAAgB,CACjC,IAAKD,EACL,EAAGF,EACH,KAAML,EACN,KAAM,IACV,CAAG,EAED,OAAO,MAAM,GAAGM,CAAQ,kBAAkBE,CAAM,EAAE,EAAE,KAAKC,GAAQ,CAC/D,GAAI,CAACA,EAAK,GACR,MAAM,IAAI,MAAMA,EAAK,UAAU,EAGjC,OAAOA,EAAK,KAAM,CACtB,CAAG,CACH,CAEA,SAASN,EAAaO,EAAK,CACzB,OAAOA,EACJ,IACC,CAAC,CACC,KAAAC,EACA,IAAK,CACH,UAAAC,EACA,UAAW,CAAE,KAAAC,EAAM,KAAAC,CAAM,CAC1B,CACT,IAAY;AAAA,gBACIA,CAAI,UAAUD,CAAI;AAAA,SACzBA,CAAI;AAAA,UACHF,CAAI;AAAA,UACJC,CAAS;AAAA,MAEnB,EACK,KAAK,EAAE,CACZ"}